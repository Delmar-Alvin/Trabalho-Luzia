!function(t,e){if("function"==typeof define&&define.amd)define(["module"],e);else if("undefined"!=typeof exports)e(module);else{var n={exports:{}};e(n),t.confetti=n.exports}}(this,function(t){"use strict";function e(t){return void 0!==t}function n(){return{x:e(window.pageXOffset)?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:e(window.pageYOffset)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}function i(t,e){t=t||1;const n=Math.random()*t;return e?Math.floor(n):n}function r(t,e){return t&&t.length?i(t.length):i(e)}function o(t){return"array"===l(t)}function a(t){return"object"===l(t)}function s(t){return"function"===l(t)}function l(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}function f(t,e){for(let n in e)t[n]=e[n];return t}function c(t,e,n){const i=e.y+(n.y-e.y)*t;return{x:e.x+(n.x-e.x)*t,y:i}}function u(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function d(t){const e=i(1);return t.begin<e&&t.end>e}function p(t,e){return d(t)||(u(t,e)>t.maxDistance?!1:u(t,e)>t.minDistance)}function m(t){const e=i(1);return t?e<=t:!0}function v(t,e,n){return a(e)&&(e.origin||(e.origin={x:.5,y:.5}),e.origin.x*=t.width,e.origin.y*=t.height),o(e)&&(e.origin=e[r(e)]),f(e,{size:m(e.size)?i(6)+6:0}),function(){e.t=t,n=e;const i=c(1,e.start,n),o=n.size||5;let a=5,f=0;return{update:function(t,e){return f+=a,f>o&&(f=o),a>0&&(f=o*a),c(t,e)},render:function(e){e.fillStyle=n.color,e.fillRect(i.x-f/2,i.y-f/2,f,f),a*=.99},alive:!0}}}function h(t){for(let e=0;e<t.length;e++)if(!t[e].alive)return e;return-1}function g(t,e){if(!t)return;const n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerHeight,n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.zIndex=1e3,n.style.pointerEvents="none",document.body.appendChild(n);const r=n.getContext("2d"),o=[],a=function(){const i=t(e);i.alive=!0;const r=h(o);return r>-1?o[r]=i:o.push(i),o[r]},s=function(){r.clearRect(0,0,n.width,n.height);for(let t=0;t<o.length;t++){const e=o[t];e&&(e.update(n,t),e.render(r),e.alive&&i(1))}window.requestAnimationFrame(s)};s()}t.exports=function(t){return g(function(e){return v(t,e)},t)}});
